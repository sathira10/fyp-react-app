(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),r=a.n(n),s=a(10),i=a.n(s),l=a(219),j=a(210),o=a(211),d=a(110),b=a(209),p=a(45),h=a(168),u=a(222),x=a(208),O=a(206),m=a(207),v=a(205),f=a(96),g=a.n(f),y=a(202);function S(){var e=r.a.useState(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],s=function(){n(!1)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(y.a,{edge:"start",color:"inherit",onClick:function(){n(!0)},children:Object(c.jsx)(g.a,{fontSize:"large"})}),Object(c.jsxs)(u.a,{open:a,onClose:s,children:[Object(c.jsx)(v.a,{id:"alert-dialog-title",children:"About"}),Object(c.jsx)(O.a,{children:Object(c.jsx)(m.a,{id:"alert-dialog-description",children:"This is the about text"})}),Object(c.jsx)(x.a,{children:Object(c.jsx)(h.a,{onClick:s,color:"primary",autoFocus:!0,children:"Dismiss"})})]})]})}var _=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function C(){var e=_();return Object(c.jsx)(j.a,{position:"static",className:"Nav",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(S,{}),Object(c.jsx)(d.a,{variant:"h5",className:e.title,children:"CONTROL PANEL"})]})})}var w=a(97),N=a(98),T=a(106),k=a(105),M=a(220),A=a(109),F=a(18),R=a.n(F),I=a(37),V=a(171),E=a(215),P=a(223),L=a(216),z=a(15),D=a(24),W=a(212),B=a(213);function J(e){var t=r.a.useState(!1),a=Object(p.a)(t,2),n=a[0],s=a[1],i=r.a.useState("panel"),l=Object(p.a)(i,2),j=l[0],o=l[1],d=function(){s(!1)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)},children:Object(c.jsx)(B.a,{fontSize:"large"})}),Object(c.jsxs)(u.a,{open:n,onClose:d,"aria-labelledby":"form-dialog-title",children:[Object(c.jsx)(v.a,{id:"form-dialog-title",children:"Save"}),Object(c.jsx)(O.a,{children:Object(c.jsx)(W.a,{autoFocus:!0,margin:"dense",label:"pv module name",type:"text",onChange:function(e){o(e.target.value),console.log(j)},fullWidth:!0})}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)(h.a,{onClick:d,color:"primary",children:"Cancel"}),Object(c.jsx)(h.a,{onClick:Object(I.a)(R.a.mark((function t(){var a,c,n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.update(e.values);case 2:a=JSON.stringify(e.get()),c=new Blob([a],{type:"application/popups;charset=utf-8"}),n=window.URL.createObjectURL(c),(r=document.createElement("a")).href=n,r.download="".concat(j,".json"),r.click(),o("panel"),s(!1);case 11:case"end":return t.stop()}}),t)}))),color:"primary",children:"Save"})]})]})]})}var G=a(214);function U(e){var t=e.setFieldValue;return Object(c.jsxs)(y.a,{component:"label",variant:"outlined",color:"primary",children:[Object(c.jsx)(G.a,{fontSize:"large"}),Object(c.jsx)("input",{type:"file",accept:".json",onChange:function(){var e=Object(I.a)(R.a.mark((function e(a){var c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),(c=new FileReader).onload=function(){var e=Object(I.a)(R.a.mark((function e(a){var c,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.target.result,n=JSON.parse(c),console.log(n),t("isc",n.isc),t("voc",n.voc),t("imp",n.imp),t("vmp",n.vmp),t("n_ser",n.n_ser),t("alpha",n.alpha),t("beta",n.beta),t("c",25),t("g",1e3),t("cell_type",n.cell_type);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.readAsText(a.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hidden:!0})]})}var q=a(101),H=a.n(q);var K=function(e){var t=e.update,a=e.get,n=e.setParams,r=[{value:"monoSi",label:"Mono crystalline Silicon"},{value:"multiSi/polySi",label:"Multi crystalline Silicon"}];return Object(c.jsxs)(V.a,{children:[Object(c.jsx)(d.a,{variant:"h5",children:"Photovoltaic Module Data"}),Object(c.jsx)(z.c,{enableReinitialize:!0,initialValues:{isc:"",voc:"",imp:"",vmp:"",alpha:"",beta:"",n_ser:"",c:"",g:"",cell_type:""},onSubmit:function(e,c){var r=c.setSubmitting;setTimeout((function(){r(!1),t(e);var c=new FormData;c.append("isc",a().isc),c.append("voc",a().voc),c.append("imp",a().imp),c.append("vmp",a().vmp),c.append("n_ser",a().n_ser),c.append("alpha",a().alpha),c.append("beta",a().beta),c.append("c",a().c),c.append("g",a().g),c.append("cell_type",a().cell_type),H.a.post("http://127.0.0.1:5000/api/param_ext",c).then((function(e){return n(e.data)}))}),500)},children:function(e){var n=e.submitForm,s=e.isSubmitting,i=e.setFieldValue,l=e.values;return Object(c.jsxs)("div",{children:[Object(c.jsx)(E.a,{justify:"center",alignItems:"center",children:Object(c.jsx)(z.b,{children:Object(c.jsxs)(E.a,{container:!0,spacing:2,children:[Object(c.jsxs)(E.a,{item:!0,children:[Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"isc",type:"number",label:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"sc"})]}),helperText:"Short circuit current (Amps)"})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"voc",type:"number",label:Object(c.jsxs)("span",{children:["V",Object(c.jsx)("sub",{children:"oc"})]}),helperText:"Open circuit voltage (Volts)"})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"imp",type:"number",label:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"mp"})]}),helperText:"Max power point current (Amps)"})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"vmp",type:"number",label:Object(c.jsxs)("span",{children:["V",Object(c.jsx)("sub",{children:"mp"})]}),helperText:"Max power point voltage (Volts)"})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"n_ser",type:"number",label:"N",helperText:"Number of cells in series"})})]}),Object(c.jsxs)(E.a,{item:!0,children:[Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"alpha",type:"number",label:Object(c.jsx)("span",{children:"\u03b1"}),helperText:Object(c.jsx)("span",{children:"Temp coef of Isc (Amps/\xb0C)"})})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"beta",type:"number",label:Object(c.jsx)("span",{children:"\u03b2"}),helperText:Object(c.jsx)("span",{children:"Temp coef of Voc (Volts/\xb0C)"})})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"c",type:"number",label:"T",helperText:Object(c.jsx)("span",{children:"Temperature (\xb0C)"})})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,name:"g",type:"number",label:"G",helperText:Object(c.jsxs)("span",{children:["Irradiance level (Watts/m",Object(c.jsx)("sup",{children:"2"}),")"]})})}),Object(c.jsx)(M.a,{margin:1,children:Object(c.jsx)(z.a,{component:D.a,type:"text",name:"cell_type",select:!0,variant:"standard",helperText:"Select material",margin:"normal",InputLabelProps:{shrink:!0},children:r.map((function(e){return Object(c.jsx)(P.a,{value:e.value,children:e.label},e.value)}))})})]})]})})}),Object(c.jsx)(M.a,{pt:2,children:Object(c.jsxs)(E.a,{direction:"row",justify:"space-between",className:"content",children:[Object(c.jsxs)(L.a,{children:[Object(c.jsx)(U,{setFieldValue:i}),Object(c.jsx)(J,{values:l,update:t,get:a})]}),Object(c.jsx)(L.a,{children:Object(c.jsx)(h.a,{variant:"contained",color:"primary",disabled:s,onClick:n,children:"Calculate"})})]})})]})}})]})},Q=a(217),X=a(218);function Y(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(M.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"ph"})]}),value:e.params.iph,description:"Photo current (A)"})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(M.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"o"})]}),value:e.params.io,description:"Saturation current (A)"})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(M.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:"A",value:e.params.a,description:"Diode ideality factor"})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(M.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["R",Object(c.jsx)("sub",{children:"sh"})]}),value:e.params.rs,description:Object(c.jsxs)("span",{children:["Series resistance",Object(c.jsx)("span",{children:" (\u03a9)"})]})})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(M.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["R",Object(c.jsx)("sub",{children:"s"})]}),value:e.params.rsh,description:Object(c.jsxs)("span",{children:["Shunt resistance",Object(c.jsx)("span",{children:" (\u03a9)"})]})})})})]})})}function Z(e){return Object(c.jsx)(Q.a,{children:Object(c.jsxs)(X.a,{children:[Object(c.jsx)(d.a,{color:"textSecondary",gutterBottom:!0,children:e.name}),Object(c.jsx)(d.a,{variant:"h5",component:"h2",className:"force-select",children:e.value}),Object(c.jsx)(d.a,{color:"textSecondary",children:e.description}),Object(c.jsx)(d.a,{variant:"body2",component:"p"})]})})}var $=a(75),ee=a.n($);function te(e){var t=e.iv,a=e.pv;return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)(ee.a,{src:t,aspectRatio:"(16/9)"})}),Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)(ee.a,{src:a,aspectRatio:"(16/9)"})})]})}var ae=a(102),ce=a.n(ae),ne=a(176),re=a(174),se=a(103),ie=a.n(se);function le(e){var t=r.a.useState(!1),a=Object(p.a)(t,2),n=a[0],s=a[1],i=function(){s(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a,{variant:"outlined",color:"secondary",onClick:function(){s(!0)},children:Object(c.jsx)(ce.a,{fontSize:"large"})}),Object(c.jsxs)(u.a,{fullWidth:!0,maxWidth:"xs",open:n,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(c.jsx)(v.a,{id:"alert-dialog-title",children:"Serial Settings"}),Object(c.jsx)(O.a,{children:Object(c.jsx)(m.a,{id:"alert-dialog-description",children:Object(c.jsxs)(V.a,{style:{minWidth:120},children:[Object(c.jsx)(ne.a,{id:"demo-simple-select-label",children:"Select Port"}),Object(c.jsxs)(re.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e.serial,onChange:function(t){return e.setSerial(t.target.value)},children:[Object(c.jsx)(P.a,{value:"COM1",children:"COM1"}),Object(c.jsx)(P.a,{value:"COM2",children:"COM2"}),Object(c.jsx)(P.a,{value:"COM3",children:"COM3"}),Object(c.jsx)(P.a,{value:"COM4",children:"COM4"})]})]})})}),Object(c.jsx)(x.a,{children:Object(c.jsx)(h.a,{onClick:function(){e.restartSerial(),i()},color:"primary",autoFocus:!0,startIcon:Object(c.jsx)(ie.a,{}),children:"Connect"})})]})]})}function je(e){return Object(c.jsx)(M.a,{pt:2,children:Object(c.jsx)(E.a,{container:!0,direction:"row",justify:"right",className:"content",children:Object(c.jsxs)("div",{children:[Object(c.jsx)(le,{serial:e.serial,setSerial:e.setSerial,restartSerial:e.restartSerial}),Object(c.jsx)(h.a,{variant:"contained",color:"secondary",onClick:e.hardwareEmulate,children:"Emulate"})]})})})}var oe=function(e){Object(T.a)(a,e);var t=Object(k.a)(a);function a(e){var c;return Object(w.a)(this,a),(c=t.call(this,e)).getSerial=function(){return c.state.serial},c.setSerial=function(e){c.setState({serial:e})},c.update_data=function(e){c.setState({data:e})},c.update_params=function(e){c.setState({parameters:e}),c.setState({images:{iv_curve:"http://127.0.0.1:5000/static/"+c.state.parameters.iv,pv_curve:"http://127.0.0.1:5000/static/"+c.state.parameters.pv}})},c.get_data=function(){return c.state.data},c.restart_serial=function(){console.log("RESTART")},c.hardware_emulate=function(){console.log("EMULATE")},c.state={data:{isc:"",voc:"",imp:"",vmp:"",alpha:"",beta:"",n_ser:"",c:"",g:"",cell_type:""},parameters:{iph:"0",io:"0",rs:"0",rsh:"0",a:"0"},images:{iv_curve:"/pv-emulator-frontend/default_img.png",pv_curve:"/pv-emulator-frontend/default_img.png"},serial:"COM4"},c}return Object(N.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"container-fluid mb-2",style:{width:"90%"},children:Object(c.jsxs)("div",{className:"row d-flex",children:[Object(c.jsx)("div",{className:"col-lg-5 justify-content-center",children:Object(c.jsx)(M.a,{pt:4,children:Object(c.jsx)(A.a,{display:"flex",elevation:4,children:Object(c.jsx)(M.a,{p:3,children:Object(c.jsx)(K,{update:this.update_data,get:this.get_data,setParams:this.update_params})})})})}),Object(c.jsx)("div",{className:"col-lg-7",children:Object(c.jsxs)(M.a,{pt:4,children:[Object(c.jsx)(M.a,{children:Object(c.jsx)(te,{iv:this.state.images.iv_curve,pv:this.state.images.pv_curve})}),Object(c.jsx)(M.a,{children:Object(c.jsx)(Y,{params:this.state.parameters})}),Object(c.jsx)(M.a,{children:Object(c.jsx)(je,{serial:this.state.serial,setSerial:this.setSerial,restartSerial:this.restart_serial,hardwareEmulate:this.hardware_emulate})})]})})]})})}}]),a}(r.a.Component),de=a(104),be=Object(de.a)({palette:{primary:{main:"#1261A0"},secondary:{main:"#943541"}}});a(161),a(162),a(163);var pe=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(l.a,{theme:be,children:[Object(c.jsx)(C,{}),Object(c.jsx)(oe,{})]})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(pe,{})}),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.adbb3eef.chunk.js.map