(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),r=a.n(n),s=a(10),i=a.n(s),l=a(221),j=a(212),o=a(213),p=a(105),d=a(211),b=a(54),u=a(166),h=a(224),x=a(210),m=a(208),O=a(209),v=a(207),f=a(93),g=a.n(f),y=a(204);function S(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],s=function(){n(!1)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(y.a,{edge:"start",color:"inherit",onClick:function(){n(!0)},children:Object(c.jsx)(g.a,{fontSize:"large"})}),Object(c.jsxs)(h.a,{open:a,onClose:s,children:[Object(c.jsx)(v.a,{id:"alert-dialog-title",children:"About"}),Object(c.jsx)(m.a,{children:Object(c.jsx)(O.a,{id:"alert-dialog-description",children:"This is the about text"})}),Object(c.jsx)(x.a,{children:Object(c.jsx)(u.a,{onClick:s,color:"primary",autoFocus:!0,children:"Dismiss"})})]})]})}var _=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function w(){var e=_();return Object(c.jsx)(j.a,{position:"static",className:"Nav",children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(S,{}),Object(c.jsx)(p.a,{variant:"h5",className:e.title,children:"CONTROL PANEL"})]})})}var N=a(94),C=a(95),T=a(101),k=a(100),A=a(222),F=a(104),R=a(18),V=a.n(R),I=a(37),M=a(169),B=a(217),P=a(225),z=a(218),D=a(15),L=a(24),E=a(214),J=a(215);function G(e){var t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],s=a[1],i=r.a.useState("panel"),l=Object(b.a)(i,2),j=l[0],o=l[1],p=function(){s(!1)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(y.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)},children:Object(c.jsx)(J.a,{fontSize:"large"})}),Object(c.jsxs)(h.a,{open:n,onClose:p,"aria-labelledby":"form-dialog-title",children:[Object(c.jsx)(v.a,{id:"form-dialog-title",children:"Save"}),Object(c.jsx)(m.a,{children:Object(c.jsx)(E.a,{autoFocus:!0,margin:"dense",label:"pv module name",type:"text",onChange:function(e){o(e.target.value),console.log(j)},fullWidth:!0})}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)(u.a,{onClick:p,color:"primary",children:"Cancel"}),Object(c.jsx)(u.a,{onClick:Object(I.a)(V.a.mark((function t(){var a,c,n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.update(e.values);case 2:a=JSON.stringify(e.get()),c=new Blob([a],{type:"application/popups;charset=utf-8"}),n=window.URL.createObjectURL(c),(r=document.createElement("a")).href=n,r.download="".concat(j,".json"),r.click(),o("panel"),s(!1);case 11:case"end":return t.stop()}}),t)}))),color:"primary",children:"Save"})]})]})]})}var U=a(216);function W(e){var t=e.setFieldValue;return Object(c.jsxs)(y.a,{component:"label",variant:"outlined",color:"primary",children:[Object(c.jsx)(U.a,{fontSize:"large"}),Object(c.jsx)("input",{type:"file",accept:".json",onChange:function(){var e=Object(I.a)(V.a.mark((function e(a){var c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),(c=new FileReader).onload=function(){var e=Object(I.a)(V.a.mark((function e(a){var c,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.target.result,n=JSON.parse(c),console.log(n),t("isc",n.isc),t("voc",n.voc),t("imp",n.imp),t("vmp",n.vmp),t("n_ser",n.n_ser),t("alpha",n.alpha),t("beta",n.beta),t("c",25),t("g",1e3),t("cell_type",n.cell_type);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.readAsText(a.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hidden:!0})]})}var q=a(98),H=a.n(q);var K=function(e){var t=e.update,a=e.get,n=e.setParams,r=[{value:"monoSi",label:"Mono crystalline Silicon"},{value:"multiSi/polySi",label:"Multi crystalline Silicon"}];return Object(c.jsxs)(M.a,{children:[Object(c.jsx)(p.a,{variant:"h5",children:"Photovoltaic Module Data"}),Object(c.jsx)(D.c,{enableReinitialize:!0,initialValues:{isc:"",voc:"",imp:"",vmp:"",alpha:"",beta:"",n_ser:"",c:"",g:"",cell_type:""},onSubmit:function(e,c){var r=c.setSubmitting;setTimeout((function(){r(!1),t(e);var c=new FormData;c.append("isc",a().isc),c.append("voc",a().voc),c.append("imp",a().imp),c.append("vmp",a().vmp),c.append("n_ser",a().n_ser),c.append("alpha",a().alpha),c.append("beta",a().beta),c.append("c",a().c),c.append("g",a().g),c.append("cell_type",a().cell_type),H.a.post("http://127.0.0.1:5000/api/param_ext",c).then((function(e){return n(e.data)}))}),500)},children:function(e){var n=e.submitForm,s=e.isSubmitting,i=e.setFieldValue,l=e.values;return Object(c.jsxs)("div",{children:[Object(c.jsx)(B.a,{justify:"center",alignItems:"center",children:Object(c.jsx)(D.b,{children:Object(c.jsxs)(B.a,{container:!0,spacing:2,children:[Object(c.jsxs)(B.a,{item:!0,children:[Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"isc",type:"number",label:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"sc"})]}),helperText:"Short circuit current (Amps)"})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"voc",type:"number",label:Object(c.jsxs)("span",{children:["V",Object(c.jsx)("sub",{children:"oc"})]}),helperText:"Open circuit voltage (Volts)"})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"imp",type:"number",label:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"mp"})]}),helperText:"Max power point current (Amps)"})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"vmp",type:"number",label:Object(c.jsxs)("span",{children:["V",Object(c.jsx)("sub",{children:"mp"})]}),helperText:"Max power point voltage (Volts)"})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"n_ser",type:"number",label:"N",helperText:"Number of cells in series"})})]}),Object(c.jsxs)(B.a,{item:!0,children:[Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"alpha",type:"number",label:Object(c.jsx)("span",{children:"\u03b1"}),helperText:Object(c.jsx)("span",{children:"Temp coef of Isc (Amps/\xb0C)"})})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"beta",type:"number",label:Object(c.jsx)("span",{children:"\u03b2"}),helperText:Object(c.jsx)("span",{children:"Temp coef of Voc (Volts/\xb0C)"})})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"c",type:"number",label:"T",helperText:Object(c.jsx)("span",{children:"Temperature (\xb0C)"})})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,name:"g",type:"number",label:"G",helperText:Object(c.jsxs)("span",{children:["Irradiance level (Watts/m",Object(c.jsx)("sup",{children:"2"}),")"]})})}),Object(c.jsx)(A.a,{margin:1,children:Object(c.jsx)(D.a,{component:L.a,type:"text",name:"cell_type",select:!0,variant:"standard",helperText:"Select material",margin:"normal",InputLabelProps:{shrink:!0},children:r.map((function(e){return Object(c.jsx)(P.a,{value:e.value,children:e.label},e.value)}))})})]})]})})}),Object(c.jsx)(A.a,{pt:2,children:Object(c.jsxs)(B.a,{direction:"row",justify:"space-between",className:"content",children:[Object(c.jsxs)(z.a,{children:[Object(c.jsx)(W,{setFieldValue:i}),Object(c.jsx)(G,{values:l,update:t,get:a})]}),Object(c.jsx)(z.a,{children:Object(c.jsx)(u.a,{variant:"contained",color:"primary",disabled:s,onClick:n,children:"Calculate"})})]})})]})}})]})},Q=a(219),X=a(220);function Y(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(A.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"ph"})]}),value:e.params.iph,description:"Photo current (A)"})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(A.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["I",Object(c.jsx)("sub",{children:"o"})]}),value:e.params.io,description:"Saturation current (A)"})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(A.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:"A",value:e.params.a,description:"Diode ideality factor"})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(A.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["R",Object(c.jsx)("sub",{children:"sh"})]}),value:e.params.rs,description:Object(c.jsxs)("span",{children:["Series resistance",Object(c.jsx)("span",{children:" (\u03a9)"})]})})})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsx)(A.a,{pt:3,bp:3,children:Object(c.jsx)(Z,{name:Object(c.jsxs)("span",{children:["R",Object(c.jsx)("sub",{children:"s"})]}),value:e.params.rsh,description:Object(c.jsxs)("span",{children:["Shunt resistance",Object(c.jsx)("span",{children:" (\u03a9)"})]})})})})]})})}function Z(e){return Object(c.jsx)(Q.a,{children:Object(c.jsxs)(X.a,{children:[Object(c.jsx)(p.a,{color:"textSecondary",gutterBottom:!0,children:e.name}),Object(c.jsx)(p.a,{variant:"h5",component:"h2",className:"force-select",children:e.value}),Object(c.jsx)(p.a,{color:"textSecondary",children:e.description}),Object(c.jsx)(p.a,{variant:"body2",component:"p"})]})})}var $=a(75),ee=a.n($);function te(e){var t=e.iv,a=e.pv,n=Boolean(t)?t:"/pv-emulator-ui/default_img.png",r=Boolean(a)?t:"/pv-emulator-ui/default_img.png";return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)(ee.a,{src:n,aspectRatio:"(16/9)"})}),Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)(ee.a,{src:r,aspectRatio:"(16/9)"})})]})}var ae=a(74),ce=a.n(ae);function ne(){return Object(c.jsx)(y.a,{children:Object(c.jsx)(ce.a,{fontSize:"large",color:"secondary"})})}function re(e){return Object(c.jsx)(A.a,{pt:2,children:Object(c.jsx)(B.a,{container:!0,direction:"row",justify:"right",className:"content",children:Object(c.jsxs)("div",{children:[Object(c.jsx)(ne,{getSerial:e.getSerial,setSerial:e.setSerial}),Object(c.jsx)(u.a,{variant:"contained",color:"secondary",children:"Emulate"})]})})})}var se=function(e){Object(T.a)(a,e);var t=Object(k.a)(a);function a(e){var c;return Object(N.a)(this,a),(c=t.call(this,e)).getSerial=function(){return c.state.serial},c.setSerial=function(e){c.setState({serial:e})},c.update_data=function(e){c.setState({data:e})},c.update_params=function(e){c.setState({parameters:e})},c.get_data=function(){return c.state.data},c.state={data:{isc:"",voc:"",imp:"",vmp:"",alpha:"",beta:"",n_ser:"",c:"",g:"",cell_type:""},parameters:{iph:"0",io:"0",rs:"0",rsh:"0",a:"0"},images:{iv_curve:"/pv-emulator-ui/default_img.png",pv_curve:"/pv-emulator-ui/default_img.png"},serial:{port:"COM4",connected:!1}},c}return Object(C.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"container-fluid mb-2",style:{width:"90%"},children:Object(c.jsxs)("div",{className:"row d-flex",children:[Object(c.jsx)("div",{className:"col-lg-5 justify-content-center",children:Object(c.jsx)(A.a,{pt:4,children:Object(c.jsx)(F.a,{display:"flex",elevation:4,children:Object(c.jsx)(A.a,{p:3,children:Object(c.jsx)(K,{update:this.update_data,get:this.get_data,setParams:this.update_params})})})})}),Object(c.jsx)("div",{className:"col-lg-7",children:Object(c.jsxs)(A.a,{pt:4,children:[Object(c.jsx)(A.a,{children:Object(c.jsx)(te,{iv:this.state.iv_curve,pv:this.state.pv_curve})}),Object(c.jsx)(A.a,{children:Object(c.jsx)(Y,{params:this.state.parameters})}),Object(c.jsx)(A.a,{children:Object(c.jsx)(re,{getSerial:this.getSerial,setSerial:this.setSerial})})]})})]})})}}]),a}(r.a.Component),ie=a(99),le=Object(ie.a)({palette:{primary:{main:"#1261A0"},secondary:{main:"#943541"}}});a(159),a(160),a(161);var je=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(l.a,{theme:le,children:[Object(c.jsx)(w,{}),Object(c.jsx)(se,{})]})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(je,{})}),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.c3690b9c.chunk.js.map